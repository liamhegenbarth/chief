
const _getTemplate = require('./_get-template');


module.exports = ( path, local, pages, settings ) => {

	if ( local.hasOwnProperty('template') )
	{
		return local.template;
	}
	else
	{

		const dirs 		= path.split('/').filter(function(e){return e;}),
			  templates = _getTemplate(pages, dirs, [], settings);

		for ( let t = 0; t < templates.length; t++ )
		{
			if ( templates[t] )
			{ 
				return templates[t];
			}
		}

		return 'index';

	}

}
