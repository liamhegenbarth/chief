
module.exports = ( path, map ) => {

	if ( map.local.hasOwnProperty('template') )
	{
		return map.local.template;
	}
	else
	{

		const dirs 		= path.split('/').filter(function(e){return e;}),
			  templates = this.getTemplate(this.map.pages, dirs, []);

		for ( let t = 0; t < templates.length; t++ )
		{
			if ( templates[t] )
			{ 
				return templates[t];
			}
		}

		return 'index';

	}

}
